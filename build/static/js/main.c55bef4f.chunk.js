(window.webpackJsonpaxidraw=window.webpackJsonpaxidraw||[]).push([[0],{34:function(e,t,n){e.exports=n(55)},43:function(e,t,n){},47:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);var r,a=n(0),c=n.n(a),o=n(19),i=n.n(o),u=n(3),s=n(14),l=n(28),f=n(9),b=n(1),d=n(6),m="row",p="X",O="Y",y=[p,O].map(function(e){return"set_".concat(e)}),j=Object(d.a)(y,2),g=j[0],h=j[1],v="Delay (x 100ms)",x="m",E="n",w=[x,E].map(function(e){return"set_".concat(e)}),k=Object(d.a)(w,2),S=k[0],P=k[1],_="Data format (0=points, 1=deltas)",D="Number of segments",C=["add","delete","edit"].map(function(e){return"".concat(e,"_rule")}),T=Object(d.a)(C,3),M=(T[0],T[1],T[2],"move_to");function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(n,!0).forEach(function(t){Object(b.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var I=(r={},Object(b.a)(r,"Average X",void 0),Object(b.a)(r,"Average Y",void 0),Object(b.a)(r,"Number of points",0),Object(b.a)(r,D,1),Object(b.a)(r,"Points",[]),Object(b.a)(r,"Timestamps",[]),r);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(n,!0).forEach(function(t){Object(b.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(n,!0).forEach(function(t){Object(b.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var J=n(2),N=[{id:"scale_x",transformation:function(e){var t=e.args,n=t.points,r=void 0===n?[]:n,a=t.scale_x,c=void 0===a?1:a;return r.map(function(e,t){return{x:Math.floor(e.x*c),y:e.y,type:0===t?M:"line_to"}})}},{id:"scale_y",transformation:function(e){var t=e.args,n=t.points,r=void 0===n?[]:n,a=t.scale_y,c=void 0===a?1:a;return r.map(function(e,t){return{x:e.x,y:Math.floor(e.y*c),type:0===t?M:"line_to"}})}},{id:"circle",transformation:function(e){var t=e.args,n=t.index_distance,r=void 0===n?0:n,a=t.points,c=void 0===a?[]:a;if(c.length>1){var o=c[0],i=c[1],u={x:(i.x+o.x)/2,y:(i.y+o.y)/2},s=Math.sqrt(Math.pow(i.x-o.x,2)+Math.pow(i.y-o.y,2))+r;return[{x:u.x,y:u.y,type:M},{x:u.x,y:u.y,radius:s,type:"arc"}]}return[]}}],W=function(){return c.a.createElement(J.a,null)};function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(n,!0).forEach(function(t){Object(b.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var B=Object(s.c)({canvas:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,n=arguments.length>1?arguments[1]:void 0,r=t.Points,a=r.length,c=t[D],o=0!==c,i=a-c,u=a+1;switch(n.type){case"add_point":var s=n.Point,l=[].concat(Object(f.a)(r),[s]);return A({},t,(e={},Object(b.a)(e,"Points",o&&a>c?l.slice(i,u):l),Object(b.a)(e,"Number of points",a),e));case"add_timestamp":var d=n.Timestamp,m=t.Timestamps,p=[].concat(Object(f.a)(m),[d]);return A({},t,Object(b.a)({},"Timestamps",o?p.slice(i,u):p));case"reset_data":return I;default:return t}},configuration:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(e={},Object(b.a)(e,"Amplitude",10),Object(b.a)(e,_,1),Object(b.a)(e,v,1),Object(b.a)(e,"Frequency",20),Object(b.a)(e,"Lines",1),Object(b.a)(e,D,2),Object(b.a)(e,p,0),Object(b.a)(e,O,0),e),n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"set_delay":return L({},t,Object(b.a)({},v,n[v]));case"set_data_format":return L({},t,Object(b.a)({},_,n[_]));case"set_num_lines":return L({},t,Object(b.a)({},"Lines",n.Lines));case"set_num_points":return L({},t,Object(b.a)({},D,n[D]));case g:return L({},t,Object(b.a)({},p,n.X));case h:return L({},t,Object(b.a)({},O,n.Y));case"set_amplitude":return L({},t,Object(b.a)({},"Amplitude",n.Amplitude));case"set_frequency":return L({},t,Object(b.a)({},"Frequency",n.Frequency));default:return t}},matrix:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(e={},Object(b.a)(e,x,3),Object(b.a)(e,E,3),e),n=arguments.length>1?arguments[1]:void 0;switch(n.type){case S:return q({},t,Object(b.a)({},x,n.m));case P:return q({},t,Object(b.a)({},E,n.n));default:return t}},transformation:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(e={},Object(b.a)(e,"Distance",10),Object(b.a)(e,"Transformations",N),e),n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"set_index_based":case"add_transformation":return X({},t,Object(b.a)({},"Index based",n["Index based"]));case"set_distance":return X({},t,Object(b.a)({},"Distance",n.Distance));default:return t}}}),V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(s.d)(B,e,Object(s.a)(l.a))},G=(n(43),n(17)),Q=n(12),U=(n(47),n(48),n(49),n(13)),$=n.n(U),H=n(16),K="https://mapo-survey-mongodb-api.vercel.app/api/";function Z(){return(Z=Object(H.a)($.a.mark(function e(t){var n,r,a;return $.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(n=[],r=0;r<3;++r)a=3*Math.random()-1.5,n.push(a);return e.abrupt("return",fetch(K+"getStyle",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t,latentVec:n})}));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ee(){return(ee=Object(H.a)($.a.mark(function e(t,n){var r,a=arguments;return $.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.abrupt("return",fetch(K+"uploadSketch",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t,sequence:n,dateTime:(new Date).toUTCString(),test:r})}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var te={control:{strength:0,sampleInterval:2},weak:{strength:1,sampleInterval:2.5},strong:{strength:5,sampleInterval:4}},ne={black:"#000",blue:"#07c",lightgray:"#f6f6ff",grey:["#ccc"]},re={fontFamily:"sans-serif",fontSize:1},ae=ne.black,ce=ne.grey[0],oe=n(31),ie=function(e){if(e&&e.current){var t=e.current,n=t.getContext("2d");n&&n.clearRect(0,0,t.width,t.height)}};var ue=function(e){for(var t=(e=e.slice()).length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[n],e[n]=r}return e}(["an apple","a tree","a heart","a house","a sheep"]).slice(0,3),se={1:"Please draw "+ue[0],2:"Please draw "+ue[1],3:"Please draw "+ue[2]},le={1:"control",2:"weak",3:"strong"},fe=Object(u.b)(function(e){return e},{})(function(e){var t=e.width,n=e.height,r=Object(a.useState)(!1),o=Object(d.a)(r,2),i=o[0],u=o[1],s=Object(a.useState)(!1),l=Object(d.a)(s,2),b=l[0],m=l[1],p=Object(a.useState)(0),O=Object(d.a)(p,2),y=O[0],j=O[1],g=Object(a.useState)(function(){var e=(new Date).getTime();return"xx-4xxx-yxxx-xxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)})}()),h=Object(d.a)(g,2),v=h[0],x=(h[1],Object(a.useState)()),E=Object(d.a)(x,2),w=E[0],k=E[1],S=Object(a.useState)(0),P=Object(d.a)(S,2),_=P[0],D=P[1],C=Object(a.useState)(2),T=Object(d.a)(C,2),M=T[0],F=T[1],A=Object(a.useState)(!1),I=Object(d.a)(A,2),R=I[0],q=I[1],z=Object(a.useState)("auto"),L=Object(d.a)(z,2),N=L[0],W=L[1],Y=Object(a.useState)(1),X=Object(d.a)(Y,2),B=X[0],V=X[1],G=Object(a.useState)(void 0),Q=Object(d.a)(G,2),U=Q[0],$=Q[1],H=Object(a.useState)(!1),K=Object(d.a)(H,2),ne=K[0],ie=K[1],ue=Object(a.useState)(!1),fe=Object(d.a)(ue,2),be=fe[0],de=fe[1],me=Object(a.useState)({1:!1,2:!1,3:!1}),pe=Object(d.a)(me,2),Oe=pe[0],ye=pe[1],je=Object(a.useState)([]),ge=Object(d.a)(je,2),he=ge[0],ve=ge[1],xe=Object(a.useState)(!1),Ee=Object(d.a)(xe,2),we=Ee[0],ke=(Ee[1],Object(a.useRef)(null)),Se=Object(a.useState)({direction:{x:0,y:0},lastStroke:{x:0,y:0},strokeDirection:{x:0,y:0},remainingDist:0}),Pe=Object(d.a)(Se,2),_e=Pe[0],De=Pe[1],Ce=function(e){if(e&&e.current){var t=e.current,n=t.getContext("2d");n&&n.clearRect(0,0,t.width,t.height),ve(function(e){return[]})}},Te=[{id:1,text:"Section 1",fx:function(){Me(1)}},{id:2,text:"Section 2",fx:function(){Me(2)}},{id:3,text:"Section 3",fx:function(){Me(3)}}];Object(a.useEffect)(function(){if(B>3)return ie(!1),de(!0),void Fe();j(te[le[B]].strength),F(te[le[B]].sampleInterval)},[B]),Object(a.useEffect)(function(){Ce(ke),m(!1)},[b]);var Me=function(e){e!==B&&(Oe[e]||ie(!0))},Fe=function(){console.log("upload results..."),console.log(Oe),function(e,t){ee.apply(this,arguments)}(v,JSON.stringify(Oe),!0)};Object(a.useEffect)(function(){},[be]);Object(a.useEffect)(function(){(function(e){return Z.apply(this,arguments)})(v).then(function(e){return e.json()}).then(function(e){var t={dx:[],dy:[],z_0:0,z_1:0,z_2:0};e.dx.split(",").forEach(function(e){t.dx.push(parseFloat(e))}),e.dy.split(",").forEach(function(e){t.dy.push(parseFloat(e))}),t.z_0=e.z_0,t.z_1=e.z_1,t.z_2=e.z_2,k(function(e){return t})}),q(!1)},[R,b]);var Ae=Object(a.useCallback)(function(e){if(ke&&ke.current&&!ne){var t=ze(e),n=ke.current.getContext("2d");if(t&&n){var r=_e,a=Le(t,r.direction,_);r.remainingDist=0,r.lastStroke=a,n.beginPath(),n.moveTo(a.x,a.y);var c=Date.now();ve([].concat(Object(f.a)(he),[{type:"start",x:a.x,y:a.y,t:c}])),De(r),u(!0),W("none")}}},[_,w,_e,he,ne]),Ie=Object(a.useCallback)(function(e){if(ke&&ke.current&&!ne){var t=ze(e);$(t);var n=_e;if(t&&U){var r=Ye(U,t);n.direction=r,i||(n.strokeDirection=r)}if(i){var a=ke.current.getContext("2d");if(!a)return;var c=Je(t,U);n.remainingDist+=c;for(var o=n.remainingDist,u=_;n.remainingDist>M;){var s=(o-n.remainingDist)/o,l=We(Ne(_e.direction,n.direction,s)),b=Le(t,l,u);b=Ne(n.lastStroke,b,.3),a.lineTo(b.x,b.y),a.stroke();var d=Date.now();ve([].concat(Object(f.a)(he),[{type:"lineTo",x:b.x,y:b.y,t:d},{type:"mouseTo",x:t.x,y:t.y,t:d}])),n.lastStroke=b,u=u<w.dx.length?u+1:0,n.remainingDist-=M,n.lastStroke=b}D(u),De(n)}}},[_,w,_e,i,U,he,ne]),Re=Object(a.useCallback)(function(e){if(ke&&ke.current&&!ne){var t=ze(e),n=ke.current.getContext("2d");if(n){if(t&&i){var r=Le(t,_e.direction,_);n.lineTo(r.x,r.y),n.stroke();var a=Date.now();ve([].concat(Object(f.a)(he),[{type:"lineTo",x:r.x,y:r.y,t:a},{type:"mouseTo",x:t.x,y:t.y,t:a},{type:"end",t:a}]))}n.closePath(),u(!1),W("auto")}}},[_,w,_e,i,he,ne]),qe=Object(a.useCallback)(function(e){Re(e)},[_,w,_e,i,he,ne]);Object(a.useEffect)(function(){if(ke&&ke.current){var e=ke.current,t=e.getContext("2d");return Object.assign(t,{lineJoin:"round",lineWidth:.8,strokeStyle:ae}),e.addEventListener("mousedown",Ae),function(){e.removeEventListener("mousedown",Ae)}}},[Ae]),Object(a.useEffect)(function(){if(ke&&ke.current){var e=ke.current;return e.addEventListener("mousemove",Ie),function(){e.removeEventListener("mousemove",Ie)}}},[Ie]),Object(a.useEffect)(function(){if(ke&&ke.current){var e=ke.current;return e.addEventListener("mouseleave",qe),e.addEventListener("mouseup",Re),function(){e.removeEventListener("mouseleave",qe),e.removeEventListener("mouseup",Re)}}},[Re]);var ze=function(e){var t=ke.current;return{x:e.pageX-t.offsetLeft,y:e.pageY-t.offsetTop}},Le=function(e,t,n){var r=w.dx[n],a=w.dy[n],c=-t.y,o=t.x;return{x:e.x+(t.x*r+c*a)*y,y:e.y+(t.y*r+o*a)*y}},Je=function(e,t){var n=Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2);return n>0?Math.sqrt(n):0},Ne=function(e,t,n){return{x:e.x+(t.x-e.x)*n,y:e.y+(t.y-e.y)*n}},We=function(e){var t=e.x*e.x+e.y*e.y;if(t>1e-8){var n=Math.sqrt(t);e.x/=n,e.y/=n}return e},Ye=function(e,t){var n={x:t.x-e.x,y:t.y-e.y},r=n.x*n.x+n.y*n.y;if(r>1e-8){var a=Math.sqrt(r);n.x/=a,n.y/=a}return n},Xe={borderColor:"transparent",borderStyle:"solid",borderWidth:"1px",":hover":{background:"white",borderColor:ce,color:"black",cursor:"pointer",transition:"0.3s"}};return c.a.createElement(c.a.Fragment,null,ne&&c.a.createElement(J.c,{width:.5,display:"block",style:{background:"#f0f0f0",position:"fixed",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}},c.a.createElement(J.a,{fontSize:3},"Are you sure submit current section? After you submit, please go back to the Google Form to answer the Questionnaire Section ",B,".",c.a.createElement("br",null),c.a.createElement(J.c,null,c.a.createElement(J.a,{width:.5},c.a.createElement(J.b,Object.assign({display:"block",margin:"auto",bg:"grey"},re,{sx:Xe,onClick:function(){ie(!1)}}),"Return")),c.a.createElement(J.a,{width:.5},c.a.createElement(J.b,Object.assign({display:"block",margin:"auto",bg:"blue"},re,{sx:Xe,onClick:function(){!function(){var e=JSON.parse(JSON.stringify(Oe));e[B]={sequence:he.slice(),strength:y,sampleInterval:M,styles:w},console.log("current submission"),console.log(e),ye(e),Ce(ke),V(B+1),ie(!1)}()}}),"Submit"))))),be&&c.a.createElement(J.c,{width:.5,display:"block",style:{background:"#f0f0f0",position:"fixed",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}},c.a.createElement(J.a,null,"Thanks for finishing the drawing tasks. Now please go back to the Google Form to answer the remaining questionnaire.",c.a.createElement("br",null),"Make sure to include your unique survey ID ",c.a.createElement("b",null,v)," in the form.",c.a.createElement(oe.CopyToClipboard,{text:v,style:{display:"block",margin:"auto"}},c.a.createElement("button",null,"Copy to clipboard")),we&&c.a.createElement(J.e,{color:"blue",fontSize:"12px"},"Copied!"))),c.a.createElement(J.c,{width:t,margin:"auto"},c.a.createElement(J.a,{margin:"auto",display:"block"},Te.map(function(e){return c.a.createElement(J.b,Object.assign({key:e.text,onClick:e.fx,bg:e.id===B?"blue":"gray",mb:3,mr:2},re,{sx:Xe}),e.text)}))),!be&&c.a.createElement(c.a.Fragment,null,c.a.createElement(J.a,{margin:"auto",display:"block"},c.a.createElement(J.e,{fontSize:"17px",textAlign:"center"},se[B])),!Oe[B]&&!be&&c.a.createElement(c.a.Fragment,null,c.a.createElement("br",null),c.a.createElement(J.c,{width:t,margin:"auto"},c.a.createElement(J.a,{width:.5},c.a.createElement(J.b,Object.assign({margin:"auto",display:"block",backgroundColor:"lightblue"},re,{sx:Xe,onClick:function(){return m(!0)}}),"Erase")),c.a.createElement(J.a,{width:.5},c.a.createElement(J.b,Object.assign({margin:"auto",display:"block",backgroundColor:"blue"},re,{sx:Xe,onClick:function(){return Me(B+1)}}),"Submit")))),!!Oe[B]&&!be&&c.a.createElement(J.e,null,"You have finished this section"),c.a.createElement("br",null),c.a.createElement("canvas",{ref:ke,height:n,width:t,style:{border:"1px solid ".concat(ae),borderRadius:"3px",margin:"auto",display:"block",cursor:N}})))}),be=function(e){return Object(b.a)({type:S},x,e)},de=function(e){return Object(b.a)({type:P},E,e)},me=function(e){return Object(b.a)({type:g},p,e)},pe=function(e){return Object(b.a)({type:h},O,e)},Oe=function(e){return Object(b.a)({type:"set_delay"},v,e)},ye=function(e){return Object(b.a)({type:"set_amplitude"},"Amplitude",e)},je=function(e){return Object(b.a)({type:"set_frequency"},"Frequency",e)},ge=function(e){return Object(b.a)({type:"set_data_format"},_,e)},he=function(e){return Object(b.a)({type:"set_num_points"},D,e)},ve=Math.floor(8*Math.random())+1,xe=Object(f.a)(Array(ve)),Ee=(Object(u.b)(function(e){return{canvas:e.canvas}},{})(function(e){var t=e.canvas,n=e.erase,r=e.height,o=e.width,i=e.mousePosition,s=e.originalMousePosition,l=Object(a.useRef)(null),f=Object(u.c)(),d=Object(u.d)(function(){return t["Average X"]}),m=Object(u.d)(function(){return t["Average Y"]});return Object(a.useEffect)(function(){var e;void 0!==i&&f((e=i,Object(b.a)({type:"add_point"},"Point",e))),function(){if(l&&l.current&&s&&i){var e=l.current.getContext("2d");e&&d&&m&&xe.map(function(t,n){Object.assign(e,{lineJoin:"round",lineWidth:.3}),e.strokeStyle="rgba(0, 0, 0, 0.3)",e.beginPath(),e.moveTo(d-10,m-10),e.lineTo(d,m),e.closePath(),e.stroke()})}}()},[s]),Object(a.useEffect)(function(){ie(l)},[n]),c.a.createElement("canvas",{ref:l,height:r,width:o,style:{border:"1px solid ".concat(ce),borderRadius:"5px",marginLeft:"16px"}})}),Object(u.b)(function(e){return e},{})(function(e){var t=e.configuration,n=e.erase,r=e.index,o=e.height,i=e.width,s=e.margin,l=e.mousePosition,f=e.originalMousePosition,b=e.scalingFactor,d=e.waveStyle,m=e.direction,y=Object(a.useRef)(null),j=100*Object(u.d)(function(){return t[v]}),g=Object(u.d)(function(){return t.Amplitude}),h=Object(u.d)(function(){return t.Frequency});Object(a.useEffect)(function(){ie(y)},[n]);return Object(a.useEffect)(function(){!function(){if(y&&y.current){var e=y.current.getContext("2d");if(e){Object.assign(e,{lineJoin:"round",lineWidth:.1,strokeStyle:"#000"}),e.beginPath();var t=function(){if(f&&l){var t=function(e){if(!e)return{x:null,y:null};var t=e.x,n=e.y,a="sin"===d?Math.sin:Math.cos,c=o/2+g*r*a(n/(h*r))+t,i=o/2+g*r*a(t/(h*r))+n;return{x:(m===p?t:c)/b,y:(m===O?n:i)/b}},n=t(f),a=n.x,c=n.y,i=t(l),u=i.x,s=i.y;a&&c&&u&&s&&(e.moveTo(a,c),e.lineTo(u,s),e.closePath(),e.stroke())}};0!==j?setTimeout(function(){t()},j*r):t()}}}()},[f]),c.a.createElement("canvas",{height:o,width:i,ref:y,style:{border:"1px solid ".concat(ce),marginRight:"".concat(s,"px"),borderRadius:"3px"}})}),n(10)),we=(Object(u.b)(function(e){return e},{})(function(e){var t=e.configuration,n=Object(u.c)(),r=[{id:p,action:me,value:Object(u.d)(function(){return t.X})},{id:O,action:pe,value:Object(u.d)(function(){return t.Y})}],a=[{id:"Amplitude",action:ye,value:Object(u.d)(function(){return t.Amplitude})},{id:"Frequency",action:je,value:Object(u.d)(function(){return t.Frequency})},{id:v,action:Oe,value:Object(u.d)(function(){return t[v]})},{id:D,action:he,value:Object(u.d)(function(){return t[D]})},{id:_,action:ge,value:Object(u.d)(function(){return t[_]})}];return c.a.createElement(J.a,{display:["none","none","block"],ml:3,width:"100%"},c.a.createElement(Pe,{defaultVisibility:!0,heading:"Default configuration"},c.a.createElement(J.c,{flexDirection:["column","column",m],justifyContent:"space-between",mb:3},c.a.createElement(J.e,Object.assign({},re,{py:2}),"Anchor point"),c.a.createElement(J.c,{alignItems:"center",flexDirection:m},"(",r.map(function(e,t){return c.a.createElement(Ee.c,{key:e.id,htmlFor:e.id,width:"6rem"},c.a.createElement(Ee.b,{name:e.id,min:0,type:"number",onChange:function(t){n(e.action(parseInt(t.target.value,10)))},mx:2,sx:{borderColor:ce,borderRadius:"5px"},value:e.value}),0===t?c.a.createElement(J.c,{alignSelf:"flex-end",pb:2},","):null)}),")")),c.a.createElement(we,null),a.map(function(e,t){return c.a.createElement(J.c,{flexDirection:m,justifyContent:"space-between",alignItems:"center",mb:3},c.a.createElement(J.e,Object.assign({},re,{py:2}),e.id),c.a.createElement(Ee.c,{key:e.id,htmlFor:e.id,width:"6rem"},c.a.createElement(Ee.b,{name:e.id,min:0,type:"number",onChange:function(t){n(e.action(parseInt(t.target.value,10)))},mx:2,sx:{borderColor:ce,borderRadius:"5px"},value:e.value})))})),c.a.createElement(Pe,{defaultVisibility:!0,heading:"Transformations"},c.a.createElement(W,null)))}),n(21),Object(u.b)(function(e){return e},{})(function(e){var t=e.matrix,n=Object(u.c)(),r=[{id:x,action:be,value:Object(u.d)(function(){return t.m})},{id:E,action:de,value:Object(u.d)(function(){return t.n})}];return c.a.createElement(J.c,{flexDirection:["column","column",m],justifyContent:"space-between",mb:3},c.a.createElement(J.e,Object.assign({},re,{py:2}),"Matrix dimensions"),c.a.createElement(J.c,{flexDirection:["column","column",m]},r.map(function(e){return c.a.createElement(J.c,{alignItems:"center",flexDirection:m,justifyContent:"flex-start",ml:[0,0,3],mt:[2,2,0],width:"10rem"},c.a.createElement(Ee.c,Object.assign({},re,{htmlFor:e.id,pb:2,width:"3rem"}),"".concat(e.id," =")),c.a.createElement(Ee.b,{name:e.id,min:0,onChange:function(t){n(e.action(parseInt(t.target.value,10)))},type:"number",value:e.value,sx:{borderColor:ce,borderRadius:"5px"}}))})))})),ke=(ne.grey[0],n(32)),Se=n(33),Pe=function(e){var t=e.children,n=e.defaultVisibility,r=void 0!==n&&n,o=e.heading,i=Object(a.useState)(r),u=Object(d.a)(i,2),s=u[0],l=u[1];return c.a.createElement(J.a,{mb:3,sx:{borderBottomStyle:"solid",borderBottomColor:ce,borderBottomWidth:"1px"}},c.a.createElement(J.c,{alignItems:"center",justifyContent:"space-between"},c.a.createElement(J.d,Object.assign({},re,{color:s?ae:ce,py:3,fontSize:2,sx:{transition:"0.15s ease-in"}}),o),c.a.createElement(J.b,{onClick:function(){l(!s)},color:ce,height:"fit-content",px:2,py:0,sx:{":hover":{color:ae,cursor:"pointer",transition:"0.3s ease-in"}}},c.a.createElement(ke.a,{icon:s?"angle-up":"angle-down"}))),c.a.createElement(Se.SlideDown,{className:"my-dropdown-slidedown"},s&&c.a.createElement(J.a,null,t)))},_e=(Object(u.b)(function(e){return e},{})(function(e){var t=e.canvas,n=e.transformation,r=e.erase,o=e.index,i=e.height,s=e.width,l=e.margin,f=(e.mousePosition,e.originalMousePosition),b=e.scalingFactor,d=Object(a.useRef)(null),m=Object(u.d)(function(){return t.Points}),p=Object(u.d)(function(){return n.Transformations});Object(a.useEffect)(function(){ie(d)},[r]);return Object(a.useEffect)(function(){setTimeout(function(){!function(){if(d&&d.current){var e=d.current.getContext("2d");if(e)Object.assign(e,{lineJoin:"round",lineWidth:.1,strokeStyle:"rgba(0, 0, 0, 0.7)"}),p.reduce(function(e,t){return e=t.transformation({args:{points:e.length>0?e:m,index_distance:2*(o+1),distance:30,scale_x:.1*o+1,scale_y:.3*o+1}})},[]).filter(function(e){return e}).map(function(t,n){var r=t.x/b,a=t.y/b;switch(t.type){case M:e.beginPath(),e.moveTo(r,a);break;case"arc":t.radius&&(e.arc(r,a,t.radius,0,2*Math.PI),e.closePath(),e.stroke());break;default:e.lineTo(r,a),e.closePath(),e.stroke()}}),e.closePath()}}()},50*o)},[f]),c.a.createElement("canvas",{height:i,width:s,ref:d,style:{border:"1px solid ".concat(ce),marginRight:"".concat(l,"px"),borderRadius:"3px"}})}),Math.floor(8*Math.random())+1);Object(f.a)(Array(_e)),Object(u.b)(function(e){return e},{})(function(e){var t=e.configuration,n=e.erase,r=e.index,o=e.height,i=e.width,s=e.margin,l=e.mousePosition,b=e.originalMousePosition,d=e.scalingFactor,m=Object(a.useRef)(null),p=Object(u.d)(function(){return t.Lines}),O=100*Object(u.d)(function(){return t[v]});return Object(a.useEffect)(function(){ie(m)},[n]),Object(a.useEffect)(function(){!function(){if(m&&m.current){var e=m.current.getContext("2d");if(e){Object.assign(e,{lineJoin:"round",lineWidth:.1,strokeStyle:"rgba(0, 0, 0, 0.1)"}),e.beginPath();var t=function(t){var n=t.index,r=t.idx;if(b&&l){var a=function(e){if(!e)return{x:null,y:null};var t=e.x,a=e.y,c=t+10*r*Math.pow(-1,r),o=a+20*n*Math.sin(a);return{x:c/d,y:o/d}},c=a(b),o=c.x,i=c.y,u=a(l),s=u.x,f=u.y;o&&i&&s&&f&&(e.moveTo(o,i),e.lineTo(s,f),e.closePath(),e.stroke())}};Object(f.a)(Array(p)).forEach(function(e,n){var a={index:r,idx:n};setTimeout(function(){0!==O?setTimeout(function(){t(a)},O*r):t(a)},1e3*n)})}}}()},[b]),c.a.createElement("canvas",{height:o,width:i,ref:m,style:{border:"1px solid ".concat(ce),marginRight:"".concat(s,"px"),borderRadius:"3px"}})}),n(7);G.b.add(Q.a,Q.b,Q.c,Q.d,Q.e,Q.f,Q.g,Q.h,Q.i,Q.j,Q.k,Q.l);var De=Object(u.b)()(function(){return c.a.createElement(J.a,{px:3,width:"100%"},c.a.createElement(J.d,Object.assign({mb:3},re,{fontSize:4,letterSpacing:"0.1em",textAlign:"center"}),"DRAWING TESTS"),c.a.createElement(fe,{height:600,width:600}))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(u.a,{store:V()},c.a.createElement(De,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[34,1,2]]]);
//# sourceMappingURL=main.c55bef4f.chunk.js.map